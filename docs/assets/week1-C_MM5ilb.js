var v=Object.defineProperty;var S=(t,e,r)=>e in t?v(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var i=(t,e,r)=>S(t,typeof e!="symbol"?e+"":e,r);/* empty css              */(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))c(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const l of n.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&c(l)}).observe(document,{childList:!0,subtree:!0});function r(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerPolicy&&(n.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?n.credentials="include":o.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function c(o){if(o.ep)return;o.ep=!0;const n=r(o);fetch(o.href,n)}})();const y={float:(t,e)=>{const r=Math.random()*(e-t);return t+r},integer:(t,e)=>Math.floor(y.float(t,e))},b=t=>{const e=t.getBoundingClientRect(),[r,c]=[e.left,e.top];return[r,c]},E=(t,e,r,c,o)=>{t.beginPath(),t.moveTo(e,r),t.lineTo(c,o),t.stroke()};class L{constructor(e,r,c,o,n,l){i(this,"value");i(this,"occurrence");i(this,"x");i(this,"y");i(this,"length");i(this,"hoverState");i(this,"style");i(this,"render",e=>{e.fillStyle=this.style,e.fillText(this.value,this.x,this.y)});this.value=e,this.occurrence=r,this.x=c,this.y=o,this.length=n,this.hoverState=!1,this.style=l}}class m{constructor(){i(this,"sentence");i(this,"addWord",e=>{this.sentence=[...this.sentence,e]});i(this,"render",({ctx:e,dict:r,styles:c})=>{const o=this.sentence.find(n=>r[n].hoverState===!0);e.strokeStyle=o?c.focus:c.blur,this.sentence.forEach((n,l)=>{o&&(r[n].style=c.focus);const a=l>0?this.sentence[l-1]:null;a&&E(e,r[a].x,r[a].y,r[n].x,r[n].y)})});this.sentence=[]}}const s={dict:{},sentences:[],styles:{focus:"red",blur:"black"},init:()=>{const t=new m;s.sentences=[...s.sentences,t]},addWord:(t,e,r)=>{t=t.toLocaleLowerCase(),s.dict[t]?s.dict[t].occurrence++:s.dict[t]=new L(t,1,e,r,t.length,s.styles.blur),s.sentences[s.sentences.length-1].addWord(t)},endSentence:()=>{const t=new m;s.sentences=[...s.sentences,t]},checkHover:(t,e,r)=>{const c=Object.keys(s.dict),o=c.find(n=>s.dict[n].x<=t&&s.dict[n].x+s.dict[n].length*r*.5>=t&&s.dict[n].y>=e&&s.dict[n].y-r<=e);return o?(s.dict[o].hoverState=!0,!0):(c.forEach(n=>s.dict[n].hoverState=!1),!1)},render:t=>{for(const e in s.dict)s.dict[e].style=s.styles.blur;s.sentences.forEach(e=>{e.render({ctx:t,dict:s.dict,styles:s.styles})});for(const e in s.dict)s.dict[e].render(t)}},f=document.getElementById("canvas"),u=f.getContext("2d"),p=document.getElementById("input-container"),h=document.getElementById("input-field"),W=()=>{if(!(u&&h))return;f.width=window.innerWidth,f.height=window.innerHeight;let[t,e]=b(p);const r=30,c=()=>{u.fillStyle="rgba(150,150,150,0.9)",u.fillRect(0,0,f.width,f.height),u.font=`${r}px Helvetica`,s.render(u)};s.init(),c(),h.addEventListener("keydown",n=>{n.key==="Enter"&&(h.value.split(new RegExp("(\\s+|(?=\\.)|(?<=\\.)|\\b)")).filter(Boolean).forEach(d=>{if(d==="."){s.endSentence(),t=y.float(10,50),e+=80;return}if(!/[a-zA-Z]/.test(d))return;const g=e+y.float(-20,20);s.addWord(d,t,g),t+=d.length*30+y.float(20,50)}),c(),h.value="",p.style.left=`${t}px`,p.style.top=`${e}px`)});let o=!1;document.addEventListener("mousemove",n=>{const[l,a]=[n.clientX,n.clientY],d=s.checkHover(l,a,r);d!=o&&c(),o=d})};W();
